{"version":3,"sources":["webpack:///C:/Users/86136/Desktop/repository/italk-app/iTalk/components/submit/submit.vue?4153","webpack:///C:/Users/86136/Desktop/repository/italk-app/iTalk/components/submit/submit.vue?2667","webpack:///C:/Users/86136/Desktop/repository/italk-app/iTalk/components/submit/submit.vue?6c2f","webpack:///C:/Users/86136/Desktop/repository/italk-app/iTalk/components/submit/submit.vue?98c5","uni-app:///components/submit/submit.vue","webpack:///C:/Users/86136/Desktop/repository/italk-app/iTalk/components/submit/submit.vue?ede6","webpack:///C:/Users/86136/Desktop/repository/italk-app/iTalk/components/submit/submit.vue?f757"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sKAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAkuB,CAAgB,uvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiHtvB;AACA;AACA;AACA;;AAEA;AACA,MADA,kBACA;AACA;AACA,qBADA;AAEA,mBAFA;AAGA,kBAHA;AAIA,aAJA;AAKA,iBALA;AAMA,mBANA;AAOA,gBAPA;AAQA,mBARA;AASA,cATA;AAUA,0BAVA;;AAYA,GAdA;AAeA;AACA,gBADA,EAfA;;AAkBA,QAlBA,oBAkBA;;AAEA,GApBA;AAqBA;AACA;AACA,kBAFA,4BAEA;AACA;AACA;AACA,cADA,GACA,GADA,CACA,IADA,CACA,OADA,GACA,GADA,CACA,OADA,CACA,QADA,GACA,GADA,CACA,QADA,CACA,SADA,GACA,GADA,CACA,SADA;AAEA;AACA,sBADA,EACA,gBADA,EACA,kBADA,EACA,oBADA;;AAGA;AACA;AACA,SARA;;AAUA,KAbA;;AAeA;AACA,WAhBA,qBAgBA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;;AAIA,KAxBA;AAyBA;AACA,WA1BA,qBA0BA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA,KAjCA;;AAmCA;AACA,SApCA,mBAoCA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA,KA1CA;AA2CA;AACA,UA5CA,kBA4CA,CA5CA,EA4CA;AACA;AACA;AACA;AACA;AACA;AACA,KAlDA;AAmDA;AACA,iBApDA,2BAoDA;AACA;AACA,KAtDA;AAuDA;AACA,WAxDA,mBAwDA,CAxDA,EAwDA;AACA;AACA;AACA,KA3DA;AA4DA;AACA,aA7DA,uBA6DA;AACA;AACA;AACA;AACA,KAjEA;AAkEA;AACA,eAnEA,yBAmEA;AACA;AACA;AACA;AACA,KAvEA;AAwEA;AACA,QAzEA,kBAyEA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA,KA/EA;AAgFA;AACA,WAjFA,mBAiFA,CAjFA,EAiFA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA,oBADA,EACA;AACA,4CAFA,EAEA;AACA,uBAHA,EAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA,SAVA;;AAYA,KArGA;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OARA,EAQA,IARA;AASA;AACA;AACA,KAtHA;AAuHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCADA;AAEA,8BAFA;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAdA;AAeA,KA1IA;AA2IA;AACA,aA5IA,qBA4IA,CA5IA,EA4IA;AACA;AACA;AACA;AACA;AACA;AACA,KAlJA;AAmJA;AACA,aApJA,uBAoJA;AACA;AACA;AACA;AACA;AACA,KAzJA;AA0JA;AACA,eA3JA,yBA2JA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,IAHA;AAIA,KAjKA;AAkKA;AACA,QAnKA,gBAmKA,GAnKA,EAmKA,KAnKA,EAmKA;AACA;AACA,gBADA,EACA,YADA,CACA;AADA;AAGA;AACA;AACA;AACA,OAFA,EAEA,CAFA;AAGA,KA3KA,EArBA,E;;;;;;;;;;;;;ACtHA;AAAA;AAAA;AAAA;AAA40C,CAAgB,6yCAAG,EAAC,C;;;;;;;;;;;ACAh2C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/submit/submit.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./submit.vue?vue&type=template&id=36098544&\"\nvar renderjs\nimport script from \"./submit.vue?vue&type=script&lang=js&\"\nexport * from \"./submit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submit.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/submit/submit.vue\"\nexport default component.exports","export * from \"-!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=template&id=36098544&\"","var components\ntry {\n  components = {\n    emoji: function() {\n      return import(\n        /* webpackChunkName: \"components/emoji/emoji\" */ \"@/components/emoji/emoji.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"submit\">\r\n\t\t\t<!-- 输入框组 -->\r\n\t\t\t<view class=\"submit-chat  animate__animated animate__faster animate__fadeInUpBig\">\r\n\t\t\t\t\r\n\t\t\t\t<!-- 语音 -->\r\n\t\t\t\t<view class=\"bt-img\" @tap=\"records\">\r\n\t\t\t\t\t<i class=\"iconfont\"\r\n\t\t\t\t\t\t :class=\"{'icon-jianpan': isrecord, 'icon-yuyin': !isrecord}\"></i>\r\n\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 输入框 -->\r\n\t\t\t\t<textarea :class=\"{displaynone: isrecord}\" \r\n\t\t\t\t\t\t\t\t\tclass=\"chat-send btn\" \r\n\t\t\t\t\t\t\t\t\tauto-height=\"true\"\r\n\t\t\t\t\t\t\t\t\t@input=\"inputs\"\r\n\t\t\t\t\t\t\t\t\t@focus=\"isFocus\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"msg\"/>\r\n\t\t\t\t<!-- 按住说话 -->\r\n\t\t\t\t<view :class=\"{displaynone: !isrecord, voiceActive: !voiceBg}\" \r\n\t\t\t\t\t\t\tclass=\"record btn\"\r\n\t\t\t\t\t\t\t@touchstart=\"touchstart\"\r\n\t\t\t\t\t\t\t@touchend=\"touchend\"\r\n\t\t\t\t\t\t\t@touchmove=\"touchmove\">按住说话</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- emojiBtn -->\r\n\t\t\t\t<view class=\"bt-img\" @tap=\"emoji\">\r\n\t\t\t\t\t<i class=\"iconfont icon-xiaolian\"\r\n\t\t\t\t\t\t :class=\"{'iconActive':!isemoji}\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- + -->\r\n\t\t\t\t<view v-if=\"msg.length===0\" class=\"bt-img\" @tap=\"more\">\r\n\t\t\t\t\t<i class=\"iconfont icon-jia2\"\r\n\t\t\t\t\t\t :class=\"{'iconActive':!ismore}\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view @tap=\"inputsByClick\" v-if=\"msg.length>0\" class=\"bt-send\">\r\n\t\t\t\t\t<view class=\"bt-send-text\">\r\n\t\t\t\t\t\t发送\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 表情下拉框 -->\r\n\t\t\t<view class=\"emoji animate__animated animate__fadeIn animate__faster\" \r\n\t\t\t\t\t\t:class=\"{displaynone: isemoji}\">\r\n\t\t\t\t<view class=\"emoji-send\">\r\n\t\t\t\t\t<view class=\"emoji-send-del\" @tap=emojiDelOne><i class=\"iconfont icon-backspace\"></i></view>\r\n\t\t\t\t\t<view class=\"emoji-send-btn\" @tap=\"emojiSend\">发送</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<emoji @emotion=\"emotion\" :height=\"260\"></emoji>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 拓展下拉框 -->\r\n\t\t\t<view class=\"more animate__animated animate__fadeIn animate__faster\"\r\n\t\t\t\t\t\t:class=\"{displaynone: ismore}\">\r\n\t\t\t\t<view class=\"more-list\" hover-class='button-hover' @tap=\"sendImg('album')\">\r\n\t\t\t\t\t<i class=\"iconfont icon-zhaopian1\"></i>\r\n\t\t\t\t\t<view class=\"more-list-title\">图片</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"more-list\" @tap=\"sendImg('camera')\" hover-class='button-hover'>\r\n\t\t\t\t\t<i class=\"iconfont icon-ziyuan\"></i>\r\n\t\t\t\t\t<view class=\"more-list-title\">拍摄</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"more-list\" @tap=\"chooseLocation\" hover-class='button-hover'>\r\n\t\t\t\t\t<i class=\"iconfont icon-dizhidingweiweizhi\"></i>\r\n\t\t\t\t\t<view class=\"more-list-title\">位置</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"more-list\" hover-class='button-hover'>\r\n\t\t\t\t\t<i class=\"iconfont icon-luxiang-tianchong\"></i>\r\n\t\t\t\t\t<view class=\"more-list-title\">录像</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"more-list\" hover-class='button-hover'>\r\n\t\t\t\t\t<i class=\"iconfont icon-wenjian2\"></i>\r\n\t\t\t\t\t<view class=\"more-list-title\">文件</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"more-list\" hover-class='button-hover'>\r\n\t\t\t\t\t<i class=\"iconfont icon-genders\"></i>\r\n\t\t\t\t\t<view class=\"more-list-title\">两性</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"more-list\" hover-class='button-hover'>\r\n\t\t\t\t\t<i class=\"iconfont icon-dongtai\"></i>\r\n\t\t\t\t\t<view class=\"more-list-title\">看天下</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"more-list\" hover-class='button-hover'>\r\n\t\t\t\t\t<i class=\"iconfont icon-pay1\"></i>\r\n\t\t\t\t\t<view class=\"more-list-title\">转账</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t</view>\r\n\t\t<!-- 录音背景 -->\r\n\t\t\t<view class=\"voice-bg\" :class=\"{displaynone: voiceBg}\">\r\n\t\t\t\t<view class=\"voice-bg-len\">\r\n\t\t\t\t\t<view class=\"voice-bg-time\" :style=\"{width:vLength/0.6+'%'}\">{{vLength}}″</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"voice-del\">\r\n\t\t\t\t\t<i class=\"iconfont icon-quxiao\"\r\n\t\t\t\t\t\t :class=\"{iconActive1: changeIconCol}\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport emoji from '../emoji/emoji.vue'\r\n\t\r\n\t// 录音配置\r\n\tconst recorderManager = uni.getRecorderManager();\r\n\tconst innerAudioContext = uni.createInnerAudioContext();\r\n\t// innerAudioContext.autoplay = true;\r\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisrecord: false,\r\n\t\t\t\tisemoji: true,\r\n\t\t\t\tismore: true,\r\n\t\t\t\tmsg: '',\r\n\t\t\t\ttimer:null,\r\n\t\t\t\tvoicePath: '',\r\n\t\t\t\tvLength: 0,\r\n\t\t\t\tvoiceBg: true,\r\n\t\t\t\tpageY: 0,\r\n\t\t\t\tchangeIconCol: false\n\t\t\t};\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\temoji\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 获取位置\r\n\t\t\tchooseLocation (){\r\n\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlet { name, address, latitude, longitude } = res\r\n\t\t\t\t\t\tlet data={\r\n\t\t\t\t\t\t\tname,address,latitude,longitude\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log(data)\r\n\t\t\t\t\t\tthis.send(data, 3)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 聚焦输入框\r\n\t\t\tisFocus(){\r\n\t\t\t\t// console.log(this.msgs)\r\n\t\t\t\tthis.isemoji = true\r\n\t\t\t\tthis.ismore = true\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.getSubHeigh()\r\n\t\t\t\t}, 10)\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 切换音频\r\n\t\t\trecords() {\r\n\t\t\t\tthis.isemoji = true\r\n\t\t\t\tthis.ismore = true\r\n\t\t\t\tthis.isrecord = !this.isrecord\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.getSubHeigh()\r\n\t\t\t\t}, 10)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 表情按钮\r\n\t\t\temoji (){\r\n\t\t\t\tthis.isemoji = !this.isemoji\r\n\t\t\t\tthis.ismore = true\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.getSubHeigh()\r\n\t\t\t\t},10)\r\n\t\t\t},\r\n\t\t\t// 文字发送(回车)\r\n\t\t\tinputs (e) {\r\n\t\t\t\tlet chatMsg = e.detail.value\r\n\t\t\t\tlet pos = chatMsg.indexOf('\\n')\r\n\t\t\t\tif(pos!=-1 && chatMsg.length>1){\t// 匹配到回车键\r\n\t\t\t\t\tthis.send(this.msg, 0)\r\n\t\t\t\t}\t\r\n\t\t\t},\r\n\t\t\t// 文字发送（按钮）\r\n\t\t\tinputsByClick(){\r\n\t\t\t\tthis.send(this.msg, 0)\r\n\t\t\t},\r\n\t\t\t// 接收点击的表情\r\n\t\t\temotion(e){\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tthis.msg += e\r\n\t\t\t},\r\n\t\t\t// 表情内发送按钮\r\n\t\t\temojiSend (){\r\n\t\t\t\tif(this.msg.length>1){\t// 匹配到回车键\r\n\t\t\t\t\tthis.send(this.msg, 0)\r\n\t\t\t\t}\t\r\n\t\t\t},\r\n\t\t\t// 表情内删除表情\r\n\t\t\temojiDelOne() {\r\n\t\t\t\tif(this.msg.length>0){\t// 匹配到回车键\r\n\t\t\t\t\tthis.msg = this.msg.substring(0, this.msg.length-1)\r\n\t\t\t\t}\t\r\n\t\t\t},\r\n\t\t\t// +按钮\r\n\t\t\tmore (){\r\n\t\t\t\tthis.ismore = !this.ismore\r\n\t\t\t\tthis.isemoji = true\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.getSubHeigh()\r\n\t\t\t\t},10)\r\n\t\t\t},\r\n\t\t\t// 图片发送\r\n\t\t\tsendImg(e){\r\n\t\t\t\tlet count = 9\r\n\t\t\t\tif(e==='album'){\r\n\t\t\t\t\tcount = 9\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcount = 1\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t    count: count, //默认9\r\n\t\t\t    sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t    sourceType: [e], //从相册选择\r\n\t\t\t    success: (res) => {\r\n\t\t\t\t\t\tlet filePath = res.tempFilePaths\r\n\t\t\t\t\t\tfilePath.map((item)=>{\r\n\t\t\t\t\t\t\t// console.log(this.msg, item)\r\n\t\t\t\t\t\t\tthis.send(item, 1)\r\n\t\t\t\t\t\t})\r\n\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 音频处理\r\n\t\t\ttouchstart:function(e){\r\n\t\t\t\t// 点击获取高度\r\n\t\t\t\tthis.pageY = e.changedTouches[0].pageY\r\n\t\t\t\tlet i=1\r\n\t\t\t\tthis.timer = setInterval(()=>{\r\n\t\t\t\t\tthis.vLength = i\r\n\t\t\t\t\ti++\r\n\t\t\t\t\tif(i>59) {\r\n\t\t\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\t\t\tthis.touchend()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}, 1000)\r\n\t\t\t\tthis.voiceBg = false\r\n\t\t\t\trecorderManager.start();\r\n\t\t\t},\r\n\t\t\ttouchend:function() {\r\n\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\trecorderManager.stop();\r\n\t\t\t\t\r\n\t\t\t\trecorderManager.onStop((res)=> {\r\n\t\t\t\t\t// console.log('recorder stop' + JSON.stringify(res));\r\n\t\t\t\t\t// 音频数据\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tvoice: res.tempFilePath,\r\n\t\t\t\t\t\ttime: this.vLength\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.voiceBg && this.vLength>0) {\r\n\t\t\t\t\t\tthis.send(data, 2)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tthis.vLength=0\r\n\t\t\t\t\tthis.voiceBg = true\r\n\t\t\t\t\tthis.changeIconCol = false\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 上滑结束录音\r\n\t\t\ttouchmove(e){\r\n\t\t\t\t// console.log(e.changedTouches[0].pageY)\r\n\t\t\t\tthis.changeIconCol = true\r\n\t\t\t\tif(this.pageY - e.changedTouches[0].pageY > 60){\r\n\t\t\t\t\tthis.voiceBg = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 播放录音\r\n\t\t\tplayVoice() {\r\n\t\t\t\tif (this.voicePath) {\r\n\t\t\t\t\tinnerAudioContext.src = this.voicePath;\r\n\t\t\t\t\tinnerAudioContext.play();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取高度\r\n\t\t\tgetSubHeigh() {\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(this)\r\n\t\t\t\tquery.select('.submit').boundingClientRect(data=>{\r\n\t\t\t\t\t// console.log(data.height)\r\n\t\t\t\t\tthis.$emit('heights', data.height)\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\t// 发送封装\r\n\t\t\tsend (msg, types) {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tmsg, types\t// 消息类型\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('inputs', data)\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.msg = ''\r\n\t\t\t\t}, 0)\r\n\t\t\t},\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.submit {\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tz-index: 1002;\r\n\t\tbackground: rgba(244,244,244,1);\r\n\t\t// background: rgba(25, 25, 25, 0.4);\r\n\t\t// padding-bottom: var(--status-bar-height);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\t.submit-chat {\r\n\t\twidth: 100%;\r\n\t\t// height: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 14rpx 14rpx;\r\n\t\t\r\n\t\t.bt-img {\r\n\t\t\twidth: 56rpx;\r\n\t\t\theight: 56rpx;\r\n\t\t\tmargin: 0 10rpx;\r\n\t\t\tline-height: 56rpx;\r\n\t\t\tpadding-bottom: 10rpx;\r\n\t\t\ti {\r\n\t\t\t\tfont-size: 56rpx;\r\n\t\t\t}\r\n\t\t\t.icon-xiaolian {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tfont-size: 60rpx;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t.btn {\r\n\t\t\tflex: auto;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 25rpx;\r\n\t\t\tpadding: 15rpx;\r\n\t\t\tmax-height: 180rpx;\r\n\t\t\tmargin: 0 10rpx;\r\n\t\t}\r\n\t\t.chat-send {\r\n\t\t\tline-height: 54rpx;\r\n\t\t}\r\n\t\t.record {\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: $uni-font-size-lg;\r\n\t\t\tcolor: $uni-text-color-grey;\r\n\t\t\tline-height: 54rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.bt-send{\r\n\t\t\tflex: none;\r\n\t\t\tline-height: 64rpx;\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 71rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\t.bt-send-text {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tbackground-color: $uni-color-primary;\r\n\t\t\t\tborder-radius: $uni-border-radius-base;\r\n\t\t\t\tpadding: 0rpx 10rpx;\r\n\t\t\t\tpadding-top: -20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.emoji {\r\n\t\twidth: 100%;\r\n\t\theight: 460rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tbox-shadow: 0 -1rpx 0 0 rgba(0,0,0,0.1);\r\n\t\t\r\n\t\t.emoji-send{\r\n\t\t\twidth: 280rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 40rpx;\r\n\t\t\tright: 0;\r\n\t\t\t// padding-top: 20rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\t// padding-bottom: env(safe-area-inset-bottom);\r\n\t\t\t\r\n\t\t\t.emoji-send-btn {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tbackground: rgba(255,228,49,1);\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t\tborder-radius: 24rpx;\r\n\t\t\t\tmargin: 0 32rpx 0 20rpx;\r\n\t\t\t\tbox-shadow: 8rpx 10rpx 25rpx -5rpx rgba(117, 112, 117, 0.3);\r\n\t\t\t}\r\n\t\t\t.emoji-send-del {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tbackground: #efefef;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t\tborder-radius: 24rpx;\r\n\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\tbox-shadow: 8rpx 10rpx 25rpx -5rpx rgba(117, 112, 117, 0.3);\r\n\t\t\t\ti{\r\n\t\t\t\t\tfont-size: 60rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t.more {\r\n\t\twidth: 100%;\r\n\t\theight: 460rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tbox-shadow: 0 -1rpx 0 0 rgba(0,0,0,0.1);\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t\tbox-sizing: border-box;\r\n\t\t.more-list {\r\n\t\t\twidth: 139rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tbackground-color: $uni-bg-color-grey;\r\n\t\t\tmargin: 10rpx;\r\n\t\t\tpadding: 15rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tbox-shadow: 8rpx 10rpx 25rpx -5rpx rgba(117, 112, 117, 0.3);\r\n\t\t\t\r\n\t\t\ti {\r\n\t\t\t\tfont-size: 66rpx;\r\n\t\t\t}\r\n\t\t\t.more-list-title {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tpadding-top: 7rpx;\r\n\t\t\t\tcolor: $uni-text-color-grey;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.voice-bg{\r\n\t\tz-index: 1001;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: rgba(0,0,0,0.3);\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\t.voice-bg-len {\r\n\t\t\theight: 84rpx;\r\n\t\t\twidth: 600rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tmargin: auto;\r\n\t\t\tbackground-color: rgba(255,255,255,0.2);\r\n\t\t\tborder-radius: 42rpx;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.voice-bg-time {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tline-height: 84rpx;\r\n\t\t\tmax-width: 600rpx;\r\n\t\t\tmin-width: 120rpx;\r\n\t\t\tbackground-color: $uni-color-primary;\r\n\t\t\tborder-radius: 42rpx;\r\n\t\t}\r\n\t\t.voice-del {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 148rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t\ti {\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tfont-size: 86rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmargin-bottom: env(safe-area-inset-bottom);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t// 工具类\r\n\t.displaynone {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.iconActive {\r\n\t\tcolor: #808080;\r\n\t}\r\n\t.iconActive1 {\r\n\t\tcolor: $uni-color-primary !important;\r\n\t}\r\n\t.voiceActive {\r\n\t\tbackground-color: $uni-bg-color-hover !important;\r\n\t}\n</style>\n","import mod from \"-!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!S:\\\\HBuilderX.2.8.3.20200728\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1622362122614\n      var cssReload = require(\"S:/HBuilderX.2.8.3.20200728/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}